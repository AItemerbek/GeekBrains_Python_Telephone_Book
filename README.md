# Программа: Телефонный справочник

### 1. Описание работы программы

Программа **telephonebook.py** предназначена для создания, редактирования, хранения и обработки 
телефонного справочника. Телефонный справочник содержит следующие поля: Фамилия, Имя, Отчество и 
номер телефона.

Программа позволяет выполнять следующие действия со справочником:

- Просмотреть все доступные справочники в папке
- Создать пустой справочник
- Добавить запись в справочник
- Найти запись в справочнике
- Удалить запись из справочника
- Изменить запись в справочнике
- Объединить два справочника в один
- Удалить дубликаты записей
- Сгенерировать псевдослучайный справочник заданной размерности

Формат хранения данных, используемый программой '.json'

### 2. Примеры работы программы

#### 2.1 Начало работы

При запуске программы на экран консоли выводится список всех доступных справочников.
Для начала работы можно выбрать один из существующих справочников или создать собственный.
При создании собственного его необходимо выбрать в соответствующем поле

После выбора справочника, программа будет подсказывать с каким файлом она сейчас работает.
Вы можете в любой момент выбрать другой справочник, выбрав соответствующий пункт в меню

*Примечание: при работе с файлами не требуется писать расширение файла, программа добавит*
*расширение самомстоятельно*

#### 2.2 Меню программы
````
═════════════════════════════════════════════════════════════════════════════════
Работа со справочником new.json. Для смены справочника выберете пункт 1 в меню
═════════════════════════════════════════════════════════════════════════════════
Введите: 1 - просмотр справочника. 2 - добавить запись. 3 - найти пользователя
Введите: 4 - удалить запись. 5 - изменить запись. 6 - объединить справочники
Введите: 7 - удалить дубликаты с словаре. 8 - сгенерировать справочник. 0 - доступные справочники
Введите: "Exit" для выхода из программы
````
Для перехода в соответсвующий пункт меню необходимо ввести соответсвующую команду в
строке
````
Сделайте Ваш выбор: 
````
#### 2.3 Особенности работы с поиском

Программа позволяет осуществлять поиск как по полному, так и по частичному соответствию.
Выбор соответствия осуществляется пользователем.

Например: пользователь ввел в поиск имя **Олег** (регистр при этом не имеет значения).

При полном соответствии программа выдаст следующий результат
````
2: ['РОМАНОВ', 'ОЛЕГ', 'ВЛАДИМИРОВИЧ', '2962980']
````
При частичном соответствии результат будет следующим 
````
2: ['РОМАНОВ', 'ОЛЕГ', 'ВЛАДИМИРОВИЧ', '2962980']
3: ['ОЛЕГОВА', 'ДАРЬЯ', 'АЛЕКСЕЕВНА', '3148853']
````
#### 2.4 Изменение и удаление записи
Для изменения или удаления программа запросит номер записи.
Удалить или изменить запись можно прямо из меню поиска.
Кроме того, чтобы пользователь не ошибся при выборе номера записи,
при изменении или удалении программа подскажет какую именно запись
выбрал пользователь

При изменении записи так же существует возможность редактировать только
определенные поля, не изменяя запись целиком

````
Введите номер записи для изменения: 2
РОМАНОВ ОЛЕГ ВЛАДИМИРОВИЧ 2962980
Для изменения нажмите: 0 - запись целиком, 1 - фамилия, 2 - имя, 3 - отчество, 4 - номер телефона , 5 - отмена
````

При удалении записи, программа автоматически обновит нумерацию справочника.
Таким образом, при удалении записи №2 запись №3 смесится в справочнике на вторую позицию и т.д.

####  2.5 Объединение справочников
При объединении справочников программа запросит имя нового справочника, который будет
добавлен к тому, что открыт программой.
Имя текущего справочника всегда отображается в меню программы.
При объединении справочников нумерация текущего справочника сохранится,
а новые получат соответствующи номера записей

Если справочник, который Вы пытаетесь добавить не существует программа
вернется в меню и выдаст следующее сообщение:

````
Справочник пуст или не существует. Введите хотя бы одну запись для начала работы
````

### 2.6 Удаление дубликатов

При удалении дубликатов программа автоматически выведет пользователю
только те записи, которые встречаются в справочнике второй и более раз.
При этом дубликатом считается такая запись, где Фамилия, Имя, Отчество и номер
телефона полностью совпадают с другой записью

### 2.7 Генерация нового справочника

Для удобства проверки работы программы пользователь может сгенерировать 
псевдослучайный справочник, определив его размерность.
Перед сохранением справочника программа покажет какими именно значениями он будет заполнен.

*Примечание: если пользователь при сохранении справочника введет имя
уже существующего справочника, то программа его перепишет*

Для генерации псевдослучайного справочника используется набор имен и фамилий,
который находится в библиотеке 'randomdict.py'

```python
import randomdict
```

### 3. Особенности работы с программой

#### 3.1 Как работает программа
При выборе соответствующего пункта меню программа осуществляет выгрузку
информации из файла в формате словаря.
Для этого используется метод
```python
def readDictFormFile(filename: str):
    with open(filename, 'r', encoding='utf-8') as f:
        data = json.load(f)
    return data
```

После обработки словаря программа переписывает существующий файл при помощи метода
```python
def printDictToFile(filename: str, newData):
    with open(filename, 'w', encoding='utf-8') as file:
        json.dump(newData, file, ensure_ascii=False, indent=4)
    print()
```

#### 3.2 Рекомендации для работы с программой
- Используйте для работы только те файлы, которые сохранены в программе
- При присвоении имени файла используйте только английские символы и цифры
- Внимательно читайте подсказки при работе с программой